function truncText(t,e,n){if(n=n||"&hellip;",e>t.length)return t;var i=t.substr(0,e).match(/([^A-Za-z0-9_]*)[A-Za-z0-9_]*$/);if(!i)return n;var r=e-i[0].length;return/[\s\(\[\{]/.test(t[r])&&r--,(r?t.substr(0,r+1):"")+n}(function(t,e){var n=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};n()&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,a,o,s,l,u,c,d;if(i.fire(n,"ajax:before")){if(s=n.data("cross-domain"),l=s===e?null:s,u=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),a=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(r=n.data("method"),a=i.href(n),o=n.data("params")||null);d={type:r||"GET",data:o,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},u&&(d.xhrFields={withCredentials:u}),a&&(d.url=a);var f=i.ajax(d);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var r=i.href(n),a=n.data("method"),o=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&s!==e&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&u.attr("target",o),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return n?(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,a,o=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(r=t(this),a=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!a==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),a=!0;return r!==e&&r.submit!==e&&t.each(r.submit,function(t,e){return"function"==typeof e.handler?a=e.handler(i):void 0}),a},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),a=r.data("method"),o=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||a&&"GET"!==a||o))return!0;var s=i.handleRemote(r);return s===!1?i.enableElement(r):s.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),a=r.data("remote")!==e,o=i.blankInputs(r,i.requiredInputSelector),s=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(o&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[o]))return i.stopEverything(n);if(a){if(s){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!t.support.submitBubbles&&"1.7">t().jquery&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),a=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))})(jQuery),/* ===================================================
 * bootstrap-transition.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,r=t(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i=t(a),e&&e.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),r=i.data("modal"),a=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new e(this,a)),"string"==typeof n?r[n]():a.show&&r.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(a).one("hide",function(){n.focus()})})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";function e(){t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",r=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,a=t(this);if(!a.is(".disabled, :disabled"))return i=n(a),r=i.hasClass("open"),e(),r||i.toggleClass("open"),a.focus(),!1},keydown:function(e){var r,a,o,s,l;if(/(38|40|27)/.test(e.keyCode)&&(r=t(this),e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled"))){if(o=n(r),s=o.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),r.click();a=t("[role=menu] li:not(.divider):visible a",o),a.length&&(l=a.index(a.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&a.length-1>l&&l++,~l||(l=0),a.eq(l).focus())}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(t){"use strict";function e(e,n){var i,r=t.proxy(this.process,this),a=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=a.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=t(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),r=/^#\w/.test(i)&&t(i);return r&&r.length&&[[r.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(e>=i)return o!=(t=a.last()[0])&&this.activate(t);for(t=r.length;t--;)o!=a[t]&&e>=r[t]&&(!r[t+1]||r[t+1]>=e)&&this.activate(a[t])},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("scrollspy"),a="object"==typeof n&&n;r||i.data("scrollspy",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,r=this.element,a=r.closest("ul:not(.dropdown-menu)"),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(e=a.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),r.trigger(i),i.isDefaultPrevented()||(n=t(o),this.activate(r.parent("li"),a),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),o=i&&t.support.transition&&a.hasClass("fade");o?a.one(t.support.transition.end,r):r(),a.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("tab");r||i.data("tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,a,o,s,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)s=o[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",a="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,r={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(r[t]=e)},this),n=t(e.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,n,i,r,a,o,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,r=e[0].offsetHeight,a){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(o,a),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,a,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(t).addClass(e).addClass("in"),n=o[0].offsetWidth,i=o[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,a=!0),"bottom"==e||"top"==e?(r=0,0>t.left&&(r=-2*t.left,t.left=0,o.offset(t),n=o[0].offsetWidth,i=o[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),a&&o.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),a="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),a="object"==typeof n&&n;r||i.data("popover",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("button"),a="object"==typeof n&&n;r||i.data("button",r=new e(this,a)),"toggle"==n?r.toggle():n&&r.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var r=this,a=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,a):a())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("collapse"),a=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),r=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(r).data("collapse")?"toggle":i.data();i[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(a)})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var i,r=this.$element.find(".item.active"),a=n||r[e](),o=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",u=this;if(this.sliding=!0,o&&this.pause(),a=a.length?a:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:a[0],direction:s}),!a.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(u.$indicators.children()[u.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;a.addClass(e),a[0].offsetWidth,r.addClass(s),a.addClass(s),this.$element.one(t.support.transition.end,function(){a.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("carousel"),a=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),o="string"==typeof n?n:a.slide;r||i.data("carousel",r=new e(this,a)),"number"==typeof n?r.to(n):o?r[o]():a.interval&&r.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i,r=t(this),a=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},a.data(),r.data());a.carousel(o),(i=r.attr("data-slide-to"))&&a.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),r=i.data("typeahead"),a="object"==typeof n&&n;r||i.data("typeahead",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),a=this.options.offset,o=a.bottom,s=a.top,l="affix affix-top affix-bottom";"object"!=typeof a&&(o=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof o&&(o=a.bottom()),e=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=o&&r.top+this.$element.height()>=n-o?"bottom":null!=s&&s>=i?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),r=i.data("affix"),a="object"==typeof n&&n;r||i.data("affix",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),function(){window.jQuery}.call(this),function(){jQuery(function(){return $("a[rel=popover]").popover(),$(".tooltip").tooltip(),$("a[rel=tooltip]").tooltip()})}.call(this),/*! jQuery UI - v1.10.3 - 2013-05-05
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.progressbar.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
function(t,e){function n(e,n){var r,a,o,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,a=r.name,e.href&&a&&"map"===r.nodeName.toLowerCase()?(o=t("img[usemap=#"+a+"]")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,a=t(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(a,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var a="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?s["inner"+i].call(this):this.each(function(){t(this).css(o,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,a=t.ui[e].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;r.length>i;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(a){}r(e)},t.widget=function(n,i,r){var a,o,s,l,u={},c=n.split(".")[0];n=n.split(".")[1],a=c+"-"+n,r||(r=i,i=t.Widget),t.expr[":"][a.toLowerCase()]=function(e){return!!t.data(e,a)},t[c]=t[c]||{},o=t[c][n],s=t[c][n]=function(t,n){return this._createWidget?(arguments.length&&this._createWidget(t,n),e):new s(t,n)},t.extend(s,o,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new i,l.options=t.widget.extend({},l.options),t.each(r,function(n,r){return t.isFunction(r)?(u[n]=function(){var t=function(){return i.prototype[n].apply(this,arguments)},e=function(t){return i.prototype[n].apply(this,t)};return function(){var n,i=this._super,a=this._superApply;return this._super=t,this._superApply=e,n=r.apply(this,arguments),this._super=i,this._superApply=a,n}}(),e):(u[n]=r,e)}),s.prototype=t.widget.extend(l,{widgetEventPrefix:o?l.widgetEventPrefix:n},u,{constructor:s,namespace:c,widgetName:n,widgetFullName:a}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(n,s)},t.widget.extend=function(n){for(var r,a,o=i.call(arguments,1),s=0,l=o.length;l>s;s++)for(r in o[s])a=o[s][r],o[s].hasOwnProperty(r)&&a!==e&&(n[r]=t.isPlainObject(a)?t.isPlainObject(n[r])?t.widget.extend({},n[r],a):t.widget.extend({},a):a);return n},t.widget.bridge=function(n,r){var a=r.prototype.widgetFullName||n;t.fn[n]=function(o){var s="string"==typeof o,l=i.call(arguments,1),u=this;return o=!s&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,s?this.each(function(){var i,r=t.data(this,a);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,l),i!==r&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):e):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,a);e?e.option(o||{})._init():t.data(this,a,new r(o,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,a,o,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(a=s[n]=t.widget.extend({},this.options[n]),o=0;r.length-1>o;o++)a[r[o]]=a[r[o]]||{},a=a[r[o]];if(n=r.pop(),i===e)return a[n]===e?null:a[n];a[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,r){var a,o=this;"boolean"!=typeof n&&(r=i,i=n,n=!1),r?(i=a=t(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,a=this.widget()),t.each(r,function(r,s){function l(){return n||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):e}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||t.guid++);var u=r.match(/^(\w+)\s*(.*)$/),c=u[1]+o.eventNamespace,d=u[2];d?a.delegate(d,c,l):i.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,a,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,a):i.queue(function(n){t(this)[e](),a&&a.call(i[0]),n()})}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),/*
 *
 * jQuery Editables 1.0.1
 * 
 * Date: Aug 11 2012
 * Source: www.tectual.com.au, www.arashkarimzadeh.com
 * Author: Arash Karimzadeh (arash@tectual.com.au)
 *
 * Copyright (c) 2012 Tectual Pty. Ltd.
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
function(t){t.fn.editables=function(e){var n=t.extend({},t.fn.editables.options,e);return t.isArray(n.freezeOn)||(n.freezeOn=[n.freezeOn]),t.isArray(n.editOn)||(n.editOn=[n.editOn]),t("[data-type=editable]",this).each(function(){var e=t(this),i=function(i){var r=t(e.data("for"));0!=n.beforeFreeze.call(r,e,i)&&(r.hide(),e.show(),r.trigger("onFreeze"))},r={};t.each(n.freezeOn,function(){r[this]=i}),t(e.data("for")).hide().bind("onFreeze",n.onFreeze).bind(r);var i=function(i){var r=t(e.data("for"));0!=n.beforeEdit.call(e,r,i)&&(e.hide(),r.show().focus(),e.trigger("onEdit"))},r={};t.each(n.editOn,function(){r[this]=i}),e.bind("onEdit",n.onEdit).bind(r)}),this},t.fn.editables.options={editOn:"click",beforeEdit:t.noop,onEdit:t.noop,freezeOn:"blur",beforeFreeze:t.noop,onFreeze:t.noop}}(jQuery),/**
 * h5Validate
 * @version v0.8.4
 * Using semantic versioning: http://semver.org/
 * @author Eric Hamilton http://ericleads.com/
 * @copyright 2010 - 2012 Eric Hamilton
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Developed under the sponsorship of RootMusic, Zumba Fitness, LLC, and Rese Property Management
 */
function(t){"use strict";var e=window.console||function(){},n={defaults:{debug:!1,RODom:!1,patternLibrary:{phone:/([\+][0-9]{1,3}([ \.\-])?)?([\(]{1}[0-9]{3}[\)])?([0-9A-Z \.\-]{1,32})((x|ext|extension)?[0-9]{1,4}?)/,email:/((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?/,url:/(https?|ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,alpha:/[a-zA-Z]+/,alphaNumeric:/\w+/,integer:/-?\d+/},classPrefix:"h5-",errorClass:"ui-state-error",validClass:"ui-state-valid",activeClass:"active",requiredClass:"required",requiredAttribute:"required",patternAttribute:"pattern",errorAttribute:"data-h5-errorid",customEvents:{validate:!0},kbSelectors:":input:not(:button):not(:disabled):not(.novalidate)",focusout:!0,focusin:!1,change:!0,keyup:!1,activeKeyup:!0,mSelectors:'[type="range"]:not(:disabled):not(.novalidate), :radio:not(:disabled):not(.novalidate), :checkbox:not(:disabled):not(.novalidate), select:not(:disabled):not(.novalidate), option:not(:disabled):not(.novalidate)',click:!0,requiredVar:"h5-required",patternVar:"h5-pattern",stripMarkup:!0,submit:!0,focusFirstInvalidElementOnSubmit:!0,validateOnSubmit:!0,invalidCallback:function(){},validCallback:function(){},allValidSelectors:":input:visible:not(:button):not(:disabled):not(.novalidate)",markInvalid:function(e){var n=t(e.element),i=t(e.errorID);return n.addClass(e.errorClass).removeClass(e.validClass),n.addClass(e.settings.activeClass),i.length&&(n.attr("title")&&i.text(n.attr("title")),i.show()),n.data("valid",!1),e.settings.invalidCallback.call(e.element,e.validity),n},markValid:function(e){var n=t(e.element),i=t(e.errorID);return n.addClass(e.validClass).removeClass(e.errorClass),i.length&&i.hide(),n.data("valid",!0),e.settings.validCallback.call(e.element,e.validity),n},unmark:function(e){var n=t(e.element);return n.removeClass(e.errorClass).removeClass(e.validClass),n.form.find("#"+e.element.id).removeClass(e.errorClass).removeClass(e.validClass),n}}},i=n.defaults,r=i.patternLibrary,a=function a(e){return t.extend({customError:e.customError||!1,patternMismatch:e.patternMismatch||!1,rangeOverflow:e.rangeOverflow||!1,rangeUnderflow:e.rangeUnderflow||!1,stepMismatch:e.stepMismatch||!1,tooLong:e.tooLong||!1,typeMismatch:e.typeMismatch||!1,valid:e.valid||!0,valueMissing:e.valueMissing||!1},e)},o={isValid:function(e,n){var i=t(this);return n=e&&n||{},n.revalidate!==!1&&i.trigger("validate"),i.data("valid")},allValid:function(e,n){var i,r,a=!0,o=[],s=t(this),l=[],u=function u(t,e){e.e=t,o.push(e)},c=t.extend({},e,n);return n=n||{},s.trigger("formValidate",{settings:t.extend(!0,{},c)}),s.undelegate(c.allValidSelectors,".allValid",u),s.delegate(c.allValidSelectors,"validated.allValid",u),i=s.find(c.allValidSelectors),r=i.filter(function(){var t;if("INPUT"===this.tagName&&"radio"===this.type){if(t=this.name,l[t]===!0)return!1;l[t]=!0}return!0}),r.each(function(){var e=t(this);a=e.h5Validate("isValid",n)&&a}),s.trigger("formValidated",{valid:a,elements:o}),a},validate:function(n){var i,r=t(this),o=r.filter("[pattern]")[0]?r.attr("pattern"):!1,s=new RegExp("^(?:"+o+")$"),l=null,u=r.is("[type=checkbox]")?r.is(":checked"):r.is("[type=radio]")?(l=r.parents("form").find('input[name="'+r.attr("name")+'"]')).filter(":checked").length>0:r.val(),c=n.errorClass,d=n.validClass,h=r.attr(n.errorAttribute)||!1,f=h?"#"+h.replace(/(:|\.|\[|\])/g,"\\$1"):!1,p=!1,m=a({element:this,valid:!0}),g=t("<input required>");p=g.filter("[required]")&&g.filter("[required]").length?r.filter("[required]").length&&"false"!==r.attr("required"):void 0!==r.attr("required"),n.debug&&window.console&&(e.log('Validate called on "'+u+'" with regex "'+s+'". Required: '+p),e.log("Regex test: "+s.test(u)+", Pattern: "+o)),i=parseInt(r.attr("maxlength"),10),!isNaN(i)&&u.length>i&&(m.valid=!1,m.tooLong=!0),p&&!u?(m.valid=!1,m.valueMissing=!0):o&&!s.test(u)&&u?(m.valid=!1,m.patternMismatch=!0):n.RODom||n.markValid({element:this,validity:m,errorClass:c,validClass:d,errorID:f,settings:n}),m.valid||n.RODom||n.markInvalid({element:this,validity:m,errorClass:c,validClass:d,errorID:f,settings:n}),r.trigger("validated",m),null!==l&&n.alreadyCheckingRelatedRadioButtons!==!0&&(n.alreadyCheckingRelatedRadioButtons=!0,l.not(r).trigger("validate"),n.alreadyCheckingRelatedRadioButtons=!1)},delegateEvents:function(e,n,i,r){var a={},o=0,s=function(){r.validate.call(this,r)};t.each(n,function(t,e){e&&(a[t]=t)});for(o in a)a.hasOwnProperty(o)&&t(i).delegate(e,a[o]+".h5Validate",s);return i},bindDelegation:function(e){var n,i=t(this);return t.each(r,function(n,i){var r=i.toString();r=r.substring(1,r.length-1),t("."+e.classPrefix+n).attr("pattern",r)}),n=i.filter("form").add(i.find("form")).add(i.parents("form")),n.attr("novalidate","novalidate").submit(s),this.each(function(){var t={focusout:e.focusout,focusin:e.focusin,change:e.change,keyup:e.keyup},n={click:e.click},i={keyup:e.activeKeyup};e.delegateEvents(":input",e.customEvents,this,e),e.delegateEvents(e.kbSelectors,t,this,e),e.delegateEvents(e.mSelectors,n,this,e),e.delegateEvents(e.activeClassSelector,i,this,e),e.delegateEvents("textarea[maxlength]",{keyup:!0},this,e)})}},s=function(e){var n,i,r=c.call(this);if(r.submit===!0){if(n=t(this),i=n.h5Validate("allValid",{revalidate:r.validateOnSubmit===!0}),i!==!0&&(e.preventDefault(),r.focusFirstInvalidElementOnSubmit===!0)){var a=t(r.allValidSelectors,n).filter(function(){return t(this).h5Validate("isValid",{revalidate:!1})!==!0});a.first().focus()}return i}},l=[],u=function u(e){var n=t.extend({},i,e,o),r=n.classPrefix+n.activeClass;return t.extend(n,{activeClass:r,activeClassSelector:"."+r,requiredClass:n.classPrefix+n.requiredClass,el:this})},c=function c(){var e=t(this).closest("[data-h5-instanceId]");return l[e.attr("data-h5-instanceId")]},d=function d(e){var n=l.push(e)-1;e.RODom!==!0&&t(this).attr("data-h5-instanceId",n),t(this).trigger("instance",{"data-h5-instanceId":n})};t.h5Validate={addPatterns:function(t){var e,n=i.patternLibrary;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},validValues:function(e,n){var i,r=0,a=n.length,o="";for(r=0;a>r;r+=1)o=o?o+"|"+n[r]:n[r];i=new RegExp("^(?:"+o+")$"),t(e).data("regex",i)}},t.fn.h5Validate=function(e){var n,i,r;return"string"==typeof e&&"function"==typeof o[e]?(r=c.call(this),i=[].slice.call(arguments,0),n=e,i.shift(),i=t.merge([r],i),r[n].apply(this,i)):(r=u.call(this,e),d.call(this,r),o.bindDelegation.call(this,r))}}(jQuery),/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,a;return{send:function(o,s){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),r=t('<iframe src="javascript:false;" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",function(){var e,a=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}s(200,"success",{iframe:e}),t('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",a[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t,e,n){"use strict";var i={version:"2.0.3",tipLocation:"bottom",nubPosition:"auto",scroll:!0,scrollSpeed:300,timer:0,autoStart:!1,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,tipContainer:"body",modal:!1,expose:!1,postExposeCallback:t.noop,preRideCallback:t.noop,postRideCallback:t.noop,preStepCallback:t.noop,postStepCallback:t.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}},r=r||!1,a={},o={init:function(n){return this.each(function(){t.isEmptyObject(a)?(a=t.extend(!0,i,n),a.document=e.document,a.$document=t(a.document),a.$window=t(e),a.$content_el=t(this),a.$body=t(a.tipContainer),a.body_offset=t(a.tipContainer).position(),a.$tip_content=t("> li",a.$content_el),a.paused=!1,a.attempts=0,a.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},o.jquery_check(),t.isFunction(t.cookie)||(a.cookieMonster=!1),a.cookieMonster&&t.cookie(a.cookieName)||(a.$tip_content.each(function(e){o.create({$li:t(this),index:e})}),a.autoStart&&(!a.startTimerOnClick&&a.timer>0?(o.show("init"),o.startTimer()):o.show("init"))),a.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),1>a.$li.next().length?o.end():a.timer>0?(clearTimeout(a.automate),o.hide(),o.show(),o.startTimer()):(o.hide(),o.show())}),a.$document.on("click.joyride",".joyride-close-tip",function(t){t.preventDefault(),o.end()}),a.$window.bind("resize.joyride",function(){if(a.$li){if(a.exposed&&a.exposed.length>0){var e=t(a.exposed);e.each(function(){var e=t(this);o.un_expose(e),o.expose(e)})}o.is_phone()?o.pos_phone():o.pos_default()}})):o.restart()})},resume:function(){o.set_li(),o.show()},nextTip:function(){1>a.$li.next().length?o.end():a.timer>0?(clearTimeout(a.automate),o.hide(),o.show(),o.startTimer()):(o.hide(),o.show())},tip_template:function(e){var n,i,r;return e.tip_class=e.tip_class||"",n=t(a.template.tip).addClass(e.tip_class),i=t.trim(t(e.li).html())+o.button_text(e.button_text)+a.template.link+o.timer_instance(e.index),r=t(a.template.wrapper),e.li.attr("data-aria-labelledby")&&r.attr("aria-labelledby",e.li.attr("data-aria-labelledby")),e.li.attr("data-aria-describedby")&&r.attr("aria-describedby",e.li.attr("data-aria-describedby")),n.append(r),n.first().attr("data-index",e.index),t(".joyride-content-wrapper",n).append(i),n[0]},timer_instance:function(e){var n;return n=0===e&&a.startTimerOnClick&&a.timer>0||0===a.timer?"":o.outerHTML(t(a.template.timer)[0])},button_text:function(e){return a.nextButton?(e=t.trim(e)||"Next",e=o.outerHTML(t(a.template.button).append(e)[0])):e="",e},create:function(e){var n=e.$li.attr("data-button")||e.$li.attr("data-text"),i=e.$li.attr("class"),r=t(o.tip_template({tip_class:i,index:e.index,button_text:n,li:e.$li}));t(a.tipContainer).append(r)},show:function(e){var i,r,s={},l=[],u=0,c=null;if(a.$li===n||-1===t.inArray(a.$li.index(),a.pauseAfter))if(a.paused?a.paused=!1:o.set_li(e),a.attempts=0,a.$li.length&&a.$target.length>0){for(e&&(a.preRideCallback(a.$li.index(),a.$next_tip),a.modal&&o.show_modal()),a.preStepCallback(a.$li.index(),a.$next_tip),a.modal&&a.expose&&o.expose(),l=(a.$li.data("options")||":").split(";"),u=l.length,i=u-1;i>=0;i--)r=l[i].split(":"),2===r.length&&(s[t.trim(r[0])]=t.trim(r[1]));a.tipSettings=t.extend({},a,s),a.tipSettings.tipLocationPattern=a.tipLocationPatterns[a.tipSettings.tipLocation],!/body/i.test(a.$target.selector)&&a.scroll&&o.scroll_to(),o.is_phone()?o.pos_phone(!0):o.pos_default(!0),c=t(".joyride-timer-indicator",a.$next_tip),/pop/i.test(a.tipAnimation)?(c.outerWidth(0),a.timer>0?(a.$next_tip.show(),c.animate({width:t(".joyride-timer-indicator-wrap",a.$next_tip).outerWidth()},a.timer)):a.$next_tip.show()):/fade/i.test(a.tipAnimation)&&(c.outerWidth(0),a.timer>0?(a.$next_tip.fadeIn(a.tipAnimationFadeSpeed),a.$next_tip.show(),c.animate({width:t(".joyride-timer-indicator-wrap",a.$next_tip).outerWidth()},a.timer)):a.$next_tip.fadeIn(a.tipAnimationFadeSpeed)),a.$current_tip=a.$next_tip,t(".joyride-next-tip",a.$current_tip).focus(),o.tabbable(a.$current_tip)}else a.$li&&1>a.$target.length?o.show():o.end();else a.paused=!0},is_phone:function(){return r?r.mq("only screen and (max-width: 767px)"):767>a.$window.width()?!0:!1},hide:function(){a.modal&&a.expose&&o.un_expose(),a.modal||t(".joyride-modal-bg").hide(),a.$current_tip.hide(),a.postStepCallback(a.$li.index(),a.$current_tip)},set_li:function(t){t?(a.$li=a.$tip_content.eq(a.startOffset),o.set_next_tip(),a.$current_tip=a.$next_tip):(a.$li=a.$li.next(),o.set_next_tip()),o.set_target()},set_next_tip:function(){a.$next_tip=t(".joyride-tip-guide[data-index="+a.$li.index()+"]")},set_target:function(){var e=a.$li.attr("data-class"),n=a.$li.attr("data-id"),i=function(){return n?t(a.document.getElementById(n)):e?t("."+e).first():t("body")};a.$target=i()},scroll_to:function(){var e,n;e=a.$window.height()/2,n=Math.ceil(a.$target.offset().top-e+a.$next_tip.outerHeight()),t("html, body").stop().animate({scrollTop:n},a.scrollSpeed)},paused:function(){return-1===t.inArray(a.$li.index()+1,a.pauseAfter)?!0:!1},destroy:function(){t.isEmptyObject(a)||a.$document.off(".joyride"),t(e).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(a.automate),a={}},restart:function(){a.autoStart?(o.hide(),a.$li=n,o.show("init")):(!a.startTimerOnClick&&a.timer>0?(o.show("init"),o.startTimer()):o.show("init"),a.autoStart=!0)},pos_default:function(e){var n=(Math.ceil(a.$window.height()/2),a.$next_tip.offset(),t(".joyride-nub",a.$next_tip)),i=Math.ceil(n.outerWidth()/2),r=Math.ceil(n.outerHeight()/2),s=e||!1;s&&(a.$next_tip.css("visibility","hidden"),a.$next_tip.show()),/body/i.test(a.$target.selector)?a.$li.length&&o.pos_modal(n):(o.bottom()?(a.$next_tip.css({top:a.$target.offset().top+r+a.$target.outerHeight(),left:a.$target.offset().left}),o.nub_position(n,a.tipSettings.nubPosition,"top")):o.top()?(a.$next_tip.css({top:a.$target.offset().top-a.$next_tip.outerHeight()-r,left:a.$target.offset().left}),o.nub_position(n,a.tipSettings.nubPosition,"bottom")):o.right()?(a.$next_tip.css({top:a.$target.offset().top,left:a.$target.outerWidth()+a.$target.offset().left+i}),o.nub_position(n,a.tipSettings.nubPosition,"left")):o.left()&&(a.$next_tip.css({top:a.$target.offset().top,left:a.$target.offset().left-a.$next_tip.outerWidth()-i}),o.nub_position(n,a.tipSettings.nubPosition,"right")),!o.visible(o.corners(a.$next_tip))&&a.attempts<a.tipSettings.tipLocationPattern.length&&(n.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),a.tipSettings.tipLocation=a.tipSettings.tipLocationPattern[a.attempts],a.attempts++,o.pos_default(!0))),s&&(a.$next_tip.hide(),a.$next_tip.css("visibility","visible"))},pos_phone:function(e){var n=a.$next_tip.outerHeight(),i=(a.$next_tip.offset(),a.$target.outerHeight()),r=t(".joyride-nub",a.$next_tip),s=Math.ceil(r.outerHeight()/2),l=e||!1;r.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),l&&(a.$next_tip.css("visibility","hidden"),a.$next_tip.show()),/body/i.test(a.$target.selector)?a.$li.length&&o.pos_modal(r):o.top()?(a.$next_tip.offset({top:a.$target.offset().top-n-s}),r.addClass("bottom")):(a.$next_tip.offset({top:a.$target.offset().top+i+s}),r.addClass("top")),l&&(a.$next_tip.hide(),a.$next_tip.css("visibility","visible"))},pos_modal:function(t){o.center(),t.hide(),o.show_modal()},show_modal:function(){1>t(".joyride-modal-bg").length&&t("body").append(a.template.modal).show(),/pop/i.test(a.tipAnimation)?t(".joyride-modal-bg").show():t(".joyride-modal-bg").fadeIn(a.tipAnimationFadeSpeed)},expose:function(){var n,i,r,s,l="expose-"+Math.floor(1e4*Math.random());if(arguments.length>0&&arguments[0]instanceof t)r=arguments[0];else{if(!a.$target||/body/i.test(a.$target.selector))return!1;r=a.$target}return 1>r.length?(e.console&&console.error("element not valid",r),!1):(n=t(a.template.expose),a.$body.append(n),n.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!0),height:r.outerHeight(!0)}),i=t(a.template.exposeCover),s={zIndex:r.css("z-index"),position:r.css("position")},r.css("z-index",1*n.css("z-index")+1),"static"==s.position&&r.css("position","relative"),r.data("expose-css",s),i.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!0),height:r.outerHeight(!0)}),a.$body.append(i),n.addClass(l),i.addClass(l),r.data("expose",l),a.postExposeCallback(a.$li.index(),a.$next_tip,r),o.add_exposed(r),void 0)},un_expose:function(){var n,i,r,s,l=!1;if(arguments.length>0&&arguments[0]instanceof t)i=arguments[0];else{if(!a.$target||/body/i.test(a.$target.selector))return!1;i=a.$target}return 1>i.length?(e.console&&console.error("element not valid",i),!1):(n=i.data("expose"),r=t("."+n),arguments.length>1&&(l=arguments[1]),l===!0?t(".joyride-expose-wrapper,.joyride-expose-cover").remove():r.remove(),s=i.data("expose-css"),"auto"==s.zIndex?i.css("z-index",""):i.css("z-index",s.zIndex),s.position!=i.css("position")&&("static"==s.position?i.css("position",""):i.css("position",s.position)),i.removeData("expose"),i.removeData("expose-z-index"),o.remove_exposed(i),void 0)},add_exposed:function(e){a.exposed=a.exposed||[],e instanceof t?a.exposed.push(e[0]):"string"==typeof e&&a.exposed.push(e)},remove_exposed:function(e){var n;e instanceof t?n=e[0]:"string"==typeof e&&(n=e),a.exposed=a.exposed||[];for(var i=0;a.exposed.length>i;i++)if(a.exposed[i]==n)return a.exposed.splice(i,1),void 0},center:function(){var t=a.$window;return a.$next_tip.css({top:(t.height()-a.$next_tip.outerHeight())/2+t.scrollTop(),left:(t.width()-a.$next_tip.outerWidth())/2+t.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(a.tipSettings.tipLocation)},top:function(){return/top/i.test(a.tipSettings.tipLocation)},right:function(){return/right/i.test(a.tipSettings.tipLocation)},left:function(){return/left/i.test(a.tipSettings.tipLocation)},corners:function(t){var e=a.$window,n=e.height()/2,i=Math.ceil(a.$target.offset().top-n+a.$next_tip.outerHeight()),r=e.width()+e.scrollLeft(),o=e.height()+i,s=e.height()+e.scrollTop(),l=e.scrollTop();return l>i&&(l=0>i?0:i),o>s&&(s=o),[l>t.offset().top,t.offset().left+t.outerWidth()>r,t.offset().top+t.outerHeight()>s,e.scrollLeft()>t.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,n){"auto"===e?t.addClass(n):t.addClass(e)},startTimer:function(){a.$li.length?a.automate=setTimeout(function(){o.hide(),o.show(),o.startTimer()},a.timer):clearTimeout(a.automate)},end:function(){a.cookieMonster&&t.cookie(a.cookieName,"ridden",{expires:365,domain:a.cookieDomain}),a.timer>0&&clearTimeout(a.automate),a.modal&&a.expose&&o.un_expose(),t(".joyride-modal-bg").hide(),a.$current_tip.hide(),a.postStepCallback(a.$li.index(),a.$current_tip),a.postRideCallback(a.$li.index(),a.$current_tip)},jquery_check:function(){return t.isFunction(t.fn.on)?!0:(t.fn.on=function(t,e,n){return this.delegate(e,t,n)},t.fn.off=function(t,e,n){return this.undelegate(e,t,n)},!1)},outerHTML:function(t){return t.outerHTML||(new XMLSerializer).serializeToString(t)},version:function(){return a.version},tabbable:function(e){t(e).on("keydown",function(n){if(!n.isDefaultPrevented()&&n.keyCode&&27===n.keyCode)return n.preventDefault(),o.end(),void 0;if(9===n.keyCode){var i=t(e).find(":tabbable"),r=i.filter(":first"),a=i.filter(":last");n.target!==a[0]||n.shiftKey?n.target===r[0]&&n.shiftKey&&(a.focus(1),n.preventDefault()):(r.focus(1),n.preventDefault())}})}};t.fn.joyride=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.joyride"),void 0):o.init.apply(this,arguments)}}(jQuery,this),function(){var t,e,n,i,r,a,o,s,l,u,c,d,h,f,p,m,g,v,y=[].slice,b=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,n;return n=arguments[0],e=arguments.length>=2?y.call(arguments,1):[],t.payment.fn[n].apply(this,e)},i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6304|6706|6771|6709)/,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,length:[16,17,18,19],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,r;for(t=(t+"").replace(/\D/g,""),n=0,r=i.length;r>n;n++)if(e=i[n],e.pattern.test(t))return e},n=function(t){var e,n,r;for(n=0,r=i.length;r>n;n++)if(e=i[n],e.type===t)return e},v=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},d=function(t){var e,n,i,r,a,o;for(i=!0,r=0,n=(t+"").split("").reverse(),a=0,o=n.length;o>a;a++)e=n[a],e=parseInt(e,10),(i=!i)&&(e*=2),e>9&&(e-=9),r+=e;return 0===r%10},c=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document?null!=(e=document.selection)?"function"==typeof e.createRange?e.createRange().text:void 0:void 0:void 0)?!0:!1},o=function(n){var i,r,a,o,s,l,u;return a=String.fromCharCode(n.which),!/^\d+$/.test(a)||(i=t(n.currentTarget),u=i.val(),r=e(u+a),o=(u.replace(/\D/g,"")+a).length,l=16,r&&(l=r.length[r.length.length-1]),o>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==u.length)?void 0:(s=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,s.test(u)?(n.preventDefault(),i.val(u+" "+a)):s.test(u+a)?(n.preventDefault(),i.val(u+a+" ")):void 0)},r=function(e){var n,i;return n=t(e.currentTarget),i=n.val(),e.meta||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:8===e.which&&/\s\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},s=function(e){var n,i,r;return i=String.fromCharCode(e.which),/^\d+$/.test(i)?(n=t(e.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(e.preventDefault(),n.val("0"+r+" / ")):/^\d\d$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):void 0):void 0},l=function(e){var n,i,r;return i=String.fromCharCode(e.which),/^\d+$/.test(i)?(n=t(e.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},u=function(e){var n,i,r;return i=String.fromCharCode(e.which),"/"===i?(n=t(e.currentTarget),r=n.val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0):void 0},a=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\s\/\s?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?$/,""))):void 0},m=function(t){var e;return t.metaKey?!0:32===t.which?!1:0===t.which?!0:33>t.which?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},f=function(n){var i,r,a,o;return i=t(n.currentTarget),a=String.fromCharCode(n.which),/^\d+$/.test(a)&&!c(i)?(o=(i.val()+a).replace(/\D/g,""),r=e(o),r?o.length<=r.length[r.length.length-1]:16>=o.length):void 0},p=function(e){var n,i,r;return n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!c(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},h=function(e){var n,i;return n=t(e.currentTarget),i=n.val(),4>=i.length},g=function(e){var n,r,a,o,s;return n=t(e.currentTarget),s=n.val(),o=t.payment.cardType(s)||"unknown",n.hasClass(o)?void 0:(r=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)a=i[t],n.push(a.type);return n}(),n.removeClass("unknown"),n.removeClass(r.join(" ")),n.addClass(o),n.toggleClass("identified","unknown"!==o),n.trigger("payment.cardType",o))},t.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",h),this},t.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",p),this.on("keypress",s),this.on("keypress",u),this.on("keypress",l),this.on("keydown",a),this},t.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this.on("keypress",o),this.on("keydown",r),this.on("keyup",g),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",m),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,n,i,r;return t=t.replace(/\s/g,""),r=t.split("/",2),e=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),e=parseInt(e,10),i=parseInt(i,10),{month:e,year:i}},t.payment.validateCardNumber=function(t){var n,i;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(n=e(t),n?(i=t.length,b.call(n.length,i)>=0&&(n.luhn===!1||d(t))):!1):!1},t.payment.validateCardExpiry=function(t,e){var n,i,r;return"object"==typeof t&&"month"in t&&(r=t,t=r.month,e=r.year),t&&e?(t=v(t),e=v(e),/^\d+$/.test(t)?/^\d+$/.test(e)?12>=parseInt(t,10)?(i=new Date(e,t),n=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>n):!1:!1:!1):!1},t.payment.validateCardCVC=function(t,e){var i,r;return t=v(t),/^\d+$/.test(t)?e?(i=t.length,b.call(null!=(r=n(e))?r.cvcLength:void 0,i)>=0):t.length>=3&&4>=t.length:!1},t.payment.cardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null}}.call(this),window.Modernizr=function(t,e,n){function i(t){y.cssText=t}function r(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var i in t){var r=t[i];if(!a(r,"-")&&y[r]!==n)return"pfx"==e?r:!0}return!1}function s(t,e,i){for(var a in t){var o=e[t[a]];if(o!==n)return i===!1?t[a]:r(o,"function")?o.bind(i||e):o}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+x.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?o(a,e):(a=(t+" "+w.join(i+" ")+i).split(" "),s(a,e,n))}var u,c,d,h="2.6.2",f={},p=!0,m=e.documentElement,g="modernizr",v=e.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),F="Webkit Moz O ms",x=F.split(" "),w=F.toLowerCase().split(" "),_={},C=[],$=C.slice,D=function(t,n,i,r){var a,o,s,l,u=e.createElement("div"),c=e.body,d=c||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=r?r[i]:g+(i+1),u.appendChild(s);return a=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),u.id=g,(c?u:d).innerHTML+=a,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),o=n(u,t),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),m.style.overflow=l),!!o},E={}.hasOwnProperty;d=r(E,"undefined")||r(E.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=$.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var a=new r,o=e.apply(a,n.concat($.call(arguments)));return Object(o)===o?o:a}return e.apply(t,n.concat($.call(arguments)))};return i}),_.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:D(["@media (",b.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},_.csstransitions=function(){return l("transition")};for(var k in _)d(_,k)&&(c=k.toLowerCase(),f[c]=_[k](),C.push((f[c]?"":"no-")+c));return f.addTest=function(t,e){if("object"==typeof t)for(var i in t)d(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,"undefined"!=typeof p&&p&&(m.className+=" "+(e?"":"no-")+t),f[t]=e}return f},i(""),v=u=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=g[t[p]];return e||(e={},m++,t[p]=m,g[m]=e),e}function a(t,n,i){if(n||(n=e),c)return n.createElement(t);i||(i=r(n));var a;return a=i.cache[t]?i.cache[t].cloneNode():f.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),a.canHaveChildren&&!h.test(t)?i.frag.appendChild(a):a}function o(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||r(t);for(var a=n.frag.cloneNode(),o=0,s=i(),l=s.length;l>o;o++)a.createElement(s[o]);return a}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return v.shivMethods?a(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var i=r(t);return v.shivCSS&&!u&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),c||s(t,i),t}var u,c,d=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",m=0,g={};(function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,c=!0}})();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:c,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:o};t.html5=v,l(e)}(this,e),f._version=h,f._prefixes=b,f._domPrefixes=w,f._cssomPrefixes=x,f.testProp=function(t){return o([t])},f.testAllProps=l,f.testStyles=D,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+C.join(" "):""),f}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==g.call(t)}function r(t){return"string"==typeof t}function a(){}function o(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=v.shift();y=1,t?t.t?p(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):y=0}function l(t,n,i,r,a,l,u){function c(e){if(!f&&o(d.readyState)&&(b.r=f=1,!y&&s(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&p(function(){x.removeChild(d)},50);for(var i in D[n])D[n].hasOwnProperty(i)&&D[n][i].onload()}}var u=u||h.errorTimeout,d=e.createElement(t),f=0,g=0,b={t:i,s:n,e:a,a:l,x:u};1===D[n]&&(g=1,D[n]=[]),"object"==t?d.data=n:(d.src=n,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){c.call(this,g)},v.splice(r,0,b),"img"!=t&&(g||2===D[n]?(x.insertBefore(d,F?null:m),p(c,u)):D[n].push(d))}function u(t,e,n,i,a){return y=0,e=e||"j",r(t)?l("c"==e?_:w,t,e,this.i++,n,i,a):(v.splice(this.i++,0,t),1==v.length&&s()),this}function c(){var t=h;return t.loader={load:u,i:0},t}var d,h,f=e.documentElement,p=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in f.style,F=b&&!!e.createRange().compareNode,x=F?f:m.parentNode,f=t.opera&&"[object Opera]"==g.call(t.opera),f=!!e.attachEvent&&!f,w=b?"object":f?"script":"img",_=f?"script":w,C=Array.isArray||function(t){return"[object Array]"==g.call(t)},$=[],D={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,n,i,t=t.split("!"),r=$.length,a=t.pop(),o=t.length,a={url:a,origUrl:a,prefixes:t};for(n=0;o>n;n++)i=t[n].split("="),(e=E[i.shift()])&&(a=e(a,i));for(n=0;r>n;n++)a=$[n](a);return a}function o(t,r,a,o,s){var l=e(t),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[t]||r[o]||r[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,r,a,o,s):(D[l.url]?l.noexec=!0:D[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(u))&&a.load(function(){c(),r&&r(l.origUrl,s,o),u&&u(l.origUrl,s,o),D[l.url]=2})))}function s(t,e){function n(t,n){if(t){if(r(t))n||(d=function(){var t=[].slice.call(arguments);h.apply(this,t),f()}),o(t,d,e,0,u);else if(Object(t)===t)for(l in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--s&&(i(d)?d=function(){var t=[].slice.call(arguments);h.apply(this,t),f()}:d[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(h[l])),o(t[l],d,e,l,u))}else!n&&f()}var s,l,u=!!t.test,c=t.load||t.both,d=t.callback||a,h=d,f=t.complete||a;n(u?t.yep:t.nope,!!c),c&&n(c)}var l,u,d=this.yepnope.loader;if(r(t))o(t,0,d,0);else if(C(t))for(l=0;t.length>l;l++)u=t[l],r(u)?o(u,0,d,0):C(u)?h(u):Object(u)===u&&s(u,d);else Object(t)===t&&s(t,d)},h.addPrefix=function(t,e){E[t]=e},h.addFilter=function(t){$.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,i,r,l,u){var c,d,f=e.createElement("script"),r=r||h.errorTimeout;f.src=t;for(d in i)f.setAttribute(d,i[d]);n=u?s:n||a,f.onreadystatechange=f.onload=function(){!c&&o(f.readyState)&&(c=1,n(),f.onload=f.onreadystatechange=null)},p(function(){c||(c=1,n(1))},r),l?f.onload():m.parentNode.insertBefore(f,m)},t.yepnope.injectCss=function(t,n,i,r,o,l){var u,r=e.createElement("link"),n=l?s:n||a;r.href=t,r.rel="stylesheet",r.type="text/css";for(u in i)r.setAttribute(u,i[u]);o||(m.parentNode.insertBefore(r,m),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jrn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,n=t(this[0].form).validate();return this.each(function(){e=e&&n.element(this)}),e},removeAttrs:function(e){var n={},i=this;return t.each(e.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(e,n){var i=this[0];if(e){var r=t.data(i.form,"validator").settings,a=r.rules,o=t.validator.staticRules(i);switch(e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,a[i.name]=o,n.messages&&(r.messages[i.name]=t.extend(r.messages[i.name],n.messages));break;case"remove":if(!n)return delete a[i.name],o;var s={};return t.each(n.split(/\s/),function(t,e){s[e]=o[e],delete o[e]}),s}}var l=t.validator.normalizeRules(t.extend({},t.validator.classRules(i),t.validator.attributeRules(i),t.validator.dataRules(i),t.validator.staticRules(i)),i);if(l.required){var u=l.required;delete l.required,l=t.extend({required:u},l)}return l}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})});var i=this.settings.rules;t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var n=this.check(e)!==!1;return n?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var n in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!e.objectLength(t(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n=t(e).attr("type"),i=t(e).val();return"radio"===n||"checkbox"===n?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i=t(e).rules(),r=!1,a=this.elementValue(e);for(var o in i){var s={method:o,parameters:i[o]};try{if(n=t.validator.methods[o].call(this,a,e,s.parameters),"dependency-mismatch"===n){r=!0;continue}if(r=!1,"pending"===n)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!n)return this.formatAndAdd(e,s),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",l),l}}return r?void 0:(this.objectLength(i)&&this.successList.push(e),!0)},customDataMessage:function(e,n){return t(e).data("msg-"+n.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+n.toLowerCase())},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var n=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i=this.errorsFor(e);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,e)),this.toShow=this.toShow.add(i)},errorsFor:function(e){var n=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===n})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n={},i=t(e),r=i[0].getAttribute("type");for(var a in t.validator.methods){var o;"required"===a?(o=i.get(0).getAttribute(a),""===o&&(o=!0),o=!!o):o=i.attr(a),/min|max/.test(a)&&(null===r||/number|range|text/.test(r))&&(o=Number(o)),o?n[a]=o:r===a&&"range"!==r&&(n[a]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var n,i,r={},a=t(e);for(n in t.validator.methods)i=a.data("rule-"+n.toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(r===!1)return delete e[i],void 0;if(r.param||r.depends){var a=!0;switch(typeof r.depends){case"string":a=!!t(r.depends,n.form).length;break;case"function":a=r.depends.call(n,n)}a?e[i]=void 0!==r.param?r.param:!0:delete e[i]}}),t.each(e,function(i,r){e[i]=t.isFunction(r)?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],3>n.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n=0,i=0,r=!1;t=t.replace(/\D/g,"");for(var a=t.length-1;a>=0;a--){var o=t.charAt(a);i=parseInt(o,10),r&&(i*=2)>9&&(i-=9),n+=i,r=!r}return 0===n%10},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i[0]&&i[1]>=r},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&n[1]>=t},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var r=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),r.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=r.message,i="string"==typeof i&&{url:i}||i,r.old===e)return r.valid;r.old=e;var a=this;this.startRequest(n);var o={};return o[n.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(i){a.settings.messages[n.name].remote=r.originalMessage;var o=i===!0||"true"===i;if(o){var s=a.formSubmitted;a.prepareElement(n),a.formSubmitted=s,a.successList.push(n),delete a.invalid[n.name],a.showErrors()}else{var l={},u=i||a.defaultMessage(n,"remote");l[n.name]=r.message=t.isFunction(u)?u(e):u,a.invalid[n.name]=!0,a.showErrors(l)}r.valid=o,a.stopRequest(n,o)}},i)),"pending"}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,n,i){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=i)});else{var n=t.ajax;t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,a=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(e[a]&&e[a].abort(),e[a]=n.apply(this,arguments),e[a]):n.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,n,i){return this.bind(n,function(n){var r=t(n.target);return r.is(e)?i.apply(r,arguments):void 0})}})}(jQuery),function(){$(document).ready(function(){return $(".Switch").click(function(){return $(this).hasClass("On")?($(this).parent().find("input:checkbox").attr("checked",!0),$(this).removeClass("On").addClass("Off")):($(this).parent().find("input:checkbox").attr("checked",!1),$(this).removeClass("Off").addClass("On"))}),$(".Switch").each(function(){return $(this).parent().find("input:checkbox").length?($(this).parent().find("input:checkbox").hasClass("show")||$(this).parent().find("input:checkbox").hide(),$(this).parent().find("input:checkbox").is(":checked")?$(this).removeClass("On").addClass("Off"):$(this).removeClass("Off").addClass("On")):void 0})})}.call(this),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,o=i.push,s=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty,d=i.forEach,h=i.map,f=i.reduce,p=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,F=Array.isArray,x=Object.keys,w=a.bind,_=function(t){return t instanceof _?t:this instanceof _?(this._wrapped=t,void 0):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.4.4";var C=_.each=_.forEach=function(t,e,i){if(null!=t)if(d&&t.forEach===d)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,a=t.length;a>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var o in t)if(_.has(t,o)&&e.call(i,t[o],o,t)===n)return};_.map=_.collect=function(t,e,n){var i=[];return null==t?i:h&&t.map===h?t.map(e,n):(C(t,function(t,r,a){i[i.length]=e.call(n,t,r,a)}),i)};var $="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return i&&(e=_.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(C(t,function(t,a,o){r?n=e.call(i,n,t,a,o):(n=t,r=!0)}),!r)throw new TypeError($);return n},_.reduceRight=_.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=_.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var a=t.length;if(a!==+a){var o=_.keys(t);a=o.length}if(C(t,function(s,l,u){l=o?o[--a]:--a,r?n=e.call(i,n,t[l],l,u):(n=t[l],r=!0)}),!r)throw new TypeError($);return n},_.find=_.detect=function(t,e,n){var i;return D(t,function(t,r,a){return e.call(n,t,r,a)?(i=t,!0):void 0}),i},_.filter=_.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(C(t,function(t,r,a){e.call(n,t,r,a)&&(i[i.length]=t)}),i)},_.reject=function(t,e,n){return _.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},_.every=_.all=function(t,e,i){e||(e=_.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(e,i):(C(t,function(t,a,o){return(r=r&&e.call(i,t,a,o))?void 0:n}),!!r)};var D=_.some=_.any=function(t,e,i){e||(e=_.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(C(t,function(t,a,o){return r||(r=e.call(i,t,a,o))?n:void 0}),!!r)};_.contains=_.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):D(t,function(t){return t===e})},_.invoke=function(t,e){var n=s.call(arguments,2),i=_.isFunction(e);return _.map(t,function(t){return(i?e:t[e]).apply(t,n)})},_.pluck=function(t,e){return _.map(t,function(t){return t[e]})},_.where=function(t,e,n){return _.isEmpty(e)?n?null:[]:_[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},_.findWhere=function(t,e){return _.where(t,e,!0)},_.max=function(t,e,n){if(!e&&_.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&_.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return C(t,function(t,r,a){var o=e?e.call(n,t,r,a):t;o>=i.computed&&(i={value:t,computed:o})}),i.value},_.min=function(t,e,n){if(!e&&_.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&_.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return C(t,function(t,r,a){var o=e?e.call(n,t,r,a):t;i.computed>o&&(i={value:t,computed:o})}),i.value},_.shuffle=function(t){var e,n=0,i=[];return C(t,function(t){e=_.random(n++),i[n-1]=i[e],i[e]=t}),i};var E=function(t){return _.isFunction(t)?t:function(e){return e[t]}};_.sortBy=function(t,e,n){var i=E(e);return _.pluck(_.map(t,function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var k=function(t,e,n,i){var r={},a=E(e||_.identity);return C(t,function(e,o){var s=a.call(n,e,o,t);i(r,s,e)}),r};_.groupBy=function(t,e,n){return k(t,e,n,function(t,e,n){(_.has(t,e)?t[e]:t[e]=[]).push(n)})},_.countBy=function(t,e,n){return k(t,e,n,function(t,e){_.has(t,e)||(t[e]=0),t[e]++})},_.sortedIndex=function(t,e,n,i){n=null==n?_.identity:E(n);for(var r=n.call(i,e),a=0,o=t.length;o>a;){var s=a+o>>>1;r>n.call(i,t[s])?a=s+1:o=s}return a},_.toArray=function(t){return t?_.isArray(t)?s.call(t):t.length===+t.length?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:t.length===+t.length?t.length:_.keys(t).length},_.first=_.head=_.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:s.call(t,0,e)},_.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},_.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},_.rest=_.tail=_.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var A=function(t,e,n){return C(t,function(t){_.isArray(t)?e?o.apply(n,t):A(t,e,n):n.push(t)}),n};_.flatten=function(t,e){return A(t,e,[])},_.without=function(t){return _.difference(t,s.call(arguments,1))},_.uniq=_.unique=function(t,e,n,i){_.isFunction(e)&&(i=n,n=e,e=!1);var r=n?_.map(t,n,i):t,a=[],o=[];return C(r,function(n,i){(e?i&&o[o.length-1]===n:_.contains(o,n))||(o.push(n),a.push(t[i]))}),a},_.union=function(){return _.uniq(l.apply(i,arguments))},_.intersection=function(t){var e=s.call(arguments,1);return _.filter(_.uniq(t),function(t){return _.every(e,function(e){return _.indexOf(e,t)>=0})})},_.difference=function(t){var e=l.apply(i,s.call(arguments,1));return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){for(var t=s.call(arguments),e=_.max(_.pluck(t,"length")),n=Array(e),i=0;e>i;i++)n[i]=_.pluck(t,""+i);return n},_.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},_.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=_.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},_.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},_.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,a=Array(i);i>r;)a[r++]=t,t+=n;return a},_.bind=function(t,e){if(t.bind===w&&w)return w.apply(t,s.call(arguments,1));var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}},_.partial=function(t){var e=s.call(arguments,1);return function(){return t.apply(this,e.concat(s.call(arguments)))}},_.bindAll=function(t){var e=s.call(arguments,1);return 0===e.length&&(e=_.functions(t)),C(e,function(e){t[e]=_.bind(t[e],t)}),t},_.memoize=function(t,e){var n={};return e||(e=_.identity),function(){var i=e.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},_.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(s.call(arguments,1)))},_.throttle=function(t,e){var n,i,r,a,o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)};return function(){var l=new Date,u=e-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=t.apply(n,i)):r||(r=setTimeout(s,u)),a}},_.debounce=function(t,e,n){var i,r;return function(){var a=this,o=arguments,s=function(){i=null,n||(r=t.apply(a,o))},l=n&&!i;return clearTimeout(i),i=setTimeout(s,e),l&&(r=t.apply(a,o)),r}},_.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},_.wrap=function(t,e){return function(){var n=[t];return o.apply(n,arguments),e.apply(this,n)}},_.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},_.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},_.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)_.has(t,n)&&(e[e.length]=n);return e},_.values=function(t){var e=[];for(var n in t)_.has(t,n)&&e.push(t[n]);return e},_.pairs=function(t){var e=[];for(var n in t)_.has(t,n)&&e.push([n,t[n]]);return e},_.invert=function(t){var e={};for(var n in t)_.has(t,n)&&(e[t[n]]=n);return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=function(t){return C(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},_.pick=function(t){var e={},n=l.apply(i,s.call(arguments,1));return C(n,function(n){n in t&&(e[n]=t[n])}),e},_.omit=function(t){var e={},n=l.apply(i,s.call(arguments,1));for(var r in t)_.contains(n,r)||(e[r]=t[r]);return e},_.defaults=function(t){return C(s.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t};var S=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=u.call(t);if(r!=u.call(e))return!1;switch(r){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var a=n.length;a--;)if(n[a]==t)return i[a]==e;n.push(t),i.push(e);var o=0,s=!0;if("[object Array]"==r){if(o=t.length,s=o==e.length)for(;o--&&(s=S(t[o],e[o],n,i)););}else{var l=t.constructor,c=e.constructor;if(l!==c&&!(_.isFunction(l)&&l instanceof l&&_.isFunction(c)&&c instanceof c))return!1;for(var d in t)if(_.has(t,d)&&(o++,!(s=_.has(e,d)&&S(t[d],e[d],n,i))))break;if(s){for(d in e)if(_.has(e,d)&&!o--)break;s=!o}}return n.pop(),i.pop(),s};_.isEqual=function(t,e){return S(t,e,[],[])},_.isEmpty=function(t){if(null==t)return!0;if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(_.has(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=F||function(t){return"[object Array]"==u.call(t)},_.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){_["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return!(!t||!_.has(t,"callee"))}),true&&(_.isFunction=function(t){return"function"==typeof t}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!=+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return c.call(t,e)},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,n){for(var i=Array(t),r=0;t>r;r++)i[r]=e.call(n,r);return i},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};
j.unescape=_.invert(j.escape);var T={escape:RegExp("["+_.keys(j.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(j.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(t){_[t]=function(e){return null==e?"":(""+e).replace(T[t],function(e){return j[t][e]})}}),_.result=function(t,e){if(null==t)return null;var n=t[e];return _.isFunction(n)?n.call(t):n},_.mixin=function(t){C(_.functions(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),N.call(this,n.apply(_,t))}})};var P=0;_.uniqueId=function(t){var e=++P+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(t,e,n){var i;n=_.defaults({},n,_.templateSettings);var r=RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(r,function(e,n,i,r,s){return o+=t.slice(a,s).replace(R,function(t){return"\\"+O[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(e)return i(e,_);var l=function(t){return i.call(this,t,_)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},_.chain=function(t){return _(t).chain()};var N=function(t){return this._chain?_(t).chain():t};_.mixin(_),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],N.call(this,n)}}),C(["concat","join","slice"],function(t){var e=i[t];_.prototype[t]=function(){return N.call(this,e.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){$(function(){return $("#user_subscribed").next().children().on("click",function(){return"checked"===$("#user_subscribed").attr("checked")?$("form.registration-edit .newsletter-popover").popover("destroy"):$("form.registration-edit .newsletter-popover").popover({content:"If you unsubscribe, you will no longer receive campaign updates, Uruut news, or other recurring emails.           You may still receive one-time emails based on your use of the site, such as confirmations for your contributions.",placement:"top",trigger:"hover"})}),$(".badge-wrapper .profile-badge .img-circle").popover({placement:"top",trigger:"hover"})})}.call(this),/*
 * jQuery File Upload Plugin 5.26
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,formData:function(t){return t.serializeArray()},add:function(e,n){(n.autoUpload||n.autoUpload!==!1&&(t(this).data("blueimp-fileupload")||t(this).data("fileupload")).options.autoUpload)&&n.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=8*(e-this.loaded)*(1e3/i),this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"==typeof e.formData?e.formData(e.form):t.isArray(e.formData)?e.formData:e.formData?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(t){t._progress={loaded:0,total:0,bitrate:0}},_onProgress:function(t,e){if(t.lengthComputable){var n,i=+new Date;if(e._time&&e.progressInterval&&i-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=i,n=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=n-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=n,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(i,n,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_initXHRData:function(e){var n,i=e.files[0],r=e.multipart||!t.support.xhrFileUpload,a=e.paramName[0];e.headers=e.headers||{},e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(t,i){n.push({name:e.paramName[t]||a,value:i})})):(e.formData instanceof FormData?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',n.append(a,e.blob,i.name)):t.each(e.files,function(t,i){(window.Blob&&i instanceof Blob||window.File&&i instanceof File)&&n.append(e.paramName[t]||a,i,i.name)})),e.data=n):(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',e.contentType=i.type,e.data=e.blob||i),e.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t,"iframe")},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),a=r.promise();return n=n||this.options.context||a,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),a.abort=r.promise,this._enhancePromise(a)},_addConvenienceMethods:function(t,e){var n=this;e.submit=function(){return"pending"!==this.state()&&(e.jqXHR=this.jqXHR=n._trigger("submit",t,this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},e.abort=function(){return this.jqXHR?this.jqXHR.abort():this._getXHRPromise()},e.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):void 0},e.progress=function(){return this._progress}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){var i,r,a=this,o=e.files[0],s=o.size,l=e.uploadedBytes=e.uploadedBytes||0,u=e.maxChunkSize||s,c=o.slice||o.webkitSlice||o.mozSlice,d=t.Deferred(),h=d.promise();return this._isXHRUpload(e)&&c&&(l||s>u)&&!e.data?n?!0:l>=s?(o.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,e.context,[null,"error",o.error])):(r=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=c.call(o,l,l+u,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,a._initXHRData(n),a._initProgressListener(n),i=(a._trigger("chunksend",null,n)!==!1&&t.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(i,o,u){l=a._getUploadedBytes(u)||l+n.chunkSize,n._progress.loaded===h&&a._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=o,n.jqXHR=u,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),s>l?r():d.resolveWith(n.context,[i,o,u])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),e._progress||(e._progress={}),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var a=r._progress.total;a>r._progress.loaded&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:a,total:a}),r),r.result=e,r.textStatus=n,r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total)},_onAlways:function(t,e,n,i){this._active-=1,this._trigger("always",null,i),0===this._active&&this._trigger("stop")},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,a,o,s=this,l=s._getAJAXSettings(n),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((r||s._trigger("send",e,l)===!1)&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._sending-=1,s._onAlways(t,e,n,l),l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=t.Deferred(),this._slots.push(a),o=a.pipe(u)):o=this._sequence=this._sequence.pipe(u,u),o.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(a&&a.rejectWith(l.context,r),u())},this._enhancePromise(o)):u()},_onAdd:function(e,n){var i,r,a,o,s=this,l=!0,u=t.extend({},this.options,n),c=u.limitMultiFileUploads,d=this._getParamName(u);if((u.singleFileUploads||c)&&this._isXHRUpload(u))if(!u.singleFileUploads&&c)for(a=[],i=[],o=0;n.files.length>o;o+=c)a.push(n.files.slice(o,o+c)),r=d.slice(o,o+c),r.length||(r=d),i.push(r);else i=d;else a=[n.files],i=[d];return n.originalFiles=n.files,t.each(a||n.files,function(r,o){var u=t.extend({},n);return u.files=a?o:[o],u.paramName=i[r],s._initProgressObject(u),s._addConvenienceMethods(e,u),l=s._trigger("add",e,u)}),l},_replaceFileInput:function(e){var n=e.clone(!0);t("<form></form>").append(n)[0].reset(),e.after(n).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===e[0]?n[0]:i}),e[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,n){var i,r=this,a=t.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),a.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,a.resolve(e._file)):e.file(function(t){t.relativePath=n,a.resolve(t)},o):e.isDirectory?(i=e.createReader(),i.readEntries(function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){a.resolve(t)}).fail(o)},o)):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",e,i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent.clipboardData,i=n&&n.items||[],r={files:[]};return t.each(i,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e,r)===!1||this._onAdd(e,r)===!1?!1:void 0},_onDrop:function(t){var e=this,n=t.dataTransfer=t.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&t.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,e._trigger("drop",t,i)!==!1&&e._onAdd(t,i)})},_onDragOver:function(e){var n=e.dataTransfer=e.originalEvent.dataTransfer;return this._trigger("dragover",e)===!1?!1:(n&&-1!==t.inArray("Files",n.types)&&(n.dropEffect="copy",e.preventDefault()),void 0)},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_create:function(){var e=this.options;t.extend(e,t(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,a=t.Deferred(),o=a.promise();return o.abort=function(){return i=!0,n?n.abort():(a.reject(null,"abort","abort"),o)},this._getFileInputFiles(e.fileInput).always(function(t){i||(e.files=t,n=r._onSend(null,e).then(function(t,e,n){a.resolve(t,e,n)},function(t,e,n){a.reject(t,e,n)}))}),this._enhancePromise(o)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),$(document).ready(function(){for(var t=0;$('input[id*="amount"]').length>t;t++){var e=$('input[id*="amount"]')[t],n=e.id;e.id="this-is-temporary",e.id=n}}),jQuery.extend(jQuery.validator.messages,{required:"Field Required",remote:"Please Fix This Field",email:"Please Enter A Valid Email Address",url:"Please Enter A Valid URL",date:"Please Enter A Valid Date",dateISO:"Please Enter A Valid Date (ISO)",number:"Please Enter A Valid Number",digits:"Please Enter Only Digits",creditcard:"Please Enter A Valid Credit Card Number",equalTo:"Please Enter The Same Value",accept:"Please Enter A Value With A Valid Extension",maxlength:jQuery.validator.format("Please Enter No More Than {0} Characters"),minlength:jQuery.validator.format("Please Enter At Least {0} Characters"),rangelength:jQuery.validator.format("Please Enter A Value Between {0} And {1} Characters Long"),range:jQuery.validator.format("Please Enter A Value Between {0} And {1}"),max:jQuery.validator.format("Please Enter A Value Less Than Or Equal To {0}"),min:jQuery.validator.format("Please Enter A Value Greater Than Or Equal To {0}")}),jQuery.validator.addMethod("requiredAmount",function(t){return/^[0-9]+(,[0-9]+)*$/.test(t)},jQuery.validator.messages.number),jQuery.validator.addMethod("requiredUrl",function(t){return/^([w|W]{3})+\.[a-zA-Z0-9\-\.]+\.[a-zA-Z0-9\-\.]/.test(t)},jQuery.validator.messages.url),$(document).ready(function(){$(".btn.must-login").on("click",function(){$(".modal").remove(),$("body").append('<div class="modal hide fade" style="text-align:center;padding:50px;"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="position:absolute;top:10px;right:20px;"></button><h5 style="margin-bottom:20px;">You need to Sign In or <a href="/users/sign_up">Sign Up</a> before continuing.</h5><a href="/users/sign_in" class="btn">Sign In </a> <span style="font:italic 12px/21px georgia, serif;margin:0 10px;">or</span> <a href="/users/sign_up" class="btn">Sign Up </a></div>'),$(".modal").modal()})});