-if params[:type].eql?("individual")
  - @founders.group_by{ |p| p.perk_name  }.sort_by{|_key, value| value.first.amount }.reverse.each do |founders|
    %div.label-green= "PERK : #{founders[0]} (#{total_donor_by_level(founders[0], @project)})"
    %table.table.table-striped
      - founders[1].group_by {|donation| donation.user_id }.each do |user_id, founder|
        %tr
          %td= image_tag avatar_project_admin(founder.last.user.avatar), style: "width:37px"
          %td= truncate([founder.last.user.first_name, founder.last.user.last_name].join(" "), length: 17)
          %td= "#{amount_converter(total_amount_by_donor(founder))}"
          %td= truncate(founders[0], length: 17)
          %td= founder.sort_by { |founder| founder.updated_at }.last.updated_at.strftime("%m/%d")
- else
  - sponsors = project_sponsor_by_level(@founders, params[:page])
  - sponsors.each do |sponsor_level, sponsors|
    %div.label-green= "#{sponsor_level} LEVEL SPONSORS (#{count_project_sponsor_by_level(sponsors, @project)})"
    - if sponsors.blank?
      %p No Sponsors at this level
    - else
      %table.table.table-striped
        - sponsors.each do |sponsor|
          %tr
            %td= filepicker_image_tag sponsor.logo, width: 37, height: 37, fit: 'scale'
            %td= truncate(sponsor.name, length: 17)
            %td= "#{amount_converter(sponsor.cost)}"
            %td= truncate("#{sponsor.sponsorship_level.name} sponsor", length: 17)
            %td= sponsor.updated_at.strftime("%m/%d")

= paginate @founders, remote: true, :type => params[:type]
