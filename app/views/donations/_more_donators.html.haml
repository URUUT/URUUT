- @project.distinct_donors.each do |donator|
  - if user_signed_in?
    = link_to(image_tag(donator.user.avatar, style: "width: 27px; height:27px; margin-bottom: 5px; border-radius: 500px 500px 500px 500px;"), profile_path(donator.user.id))
  - else
    = link_to(image_tag(donator.user.avatar, style: "width: 27px; height:27px; margin-bottom: 5px; border-radius: 500px 500px 500px 500px;"), "javascript:void(0)", "url-data" => "/users/#{donator.user.id}/profile", class: "unsignin")

:javascript
  $(document).ready(function(){
    $("a[rel^='prettyPhoto']").prettyPhoto();

    $('.unsignin').click(function(){
      sign_url = '#{request.protocol}' + document.location.hostname + ":" + document.location.port + $(this).attr("url-data");
      url = $(this).attr("url-data");
      $('.modal').remove();
      $('body').append('<div class="modal hide fade" style="text-align:center;padding:50px;"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="position:absolute;top:10px;right:20px;">×</button><h5 style="margin-bottom:20px;">You need to sign in or sign up before continuing.</h5><a href="'+ url +'" class="btn green-btn">Sign In ►</a> <span style="font:italic 12px/21px georgia, serif;margin:0 10px;">or</span> <a href="/projects/set_previous_path_for_registration?url='+ sign_url +'" class="btn green-btn">Sign Up ►</a></div>');
      $('.modal').modal();
    });
  });
