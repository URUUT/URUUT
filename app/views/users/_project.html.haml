- if projects  - projects.each do |p|    - if p.live == 1      %div.project        .project-img          = image_tag "#{p.large_image}", :class => "project-image"          .project-img-layer.project-fund.plus-btn            %a.btn{:href => "#"}              Transparency Workroom            - if p.goal.to_i <= totalsponsor(p)              %input#success-fund{:name => "success", :type => "hidden", :value => "success", class: "success"}                %span        .content          .cont-desc            %h3= link_to p.title, project_path(p.id)            %p.short-description= p.about          .location.clearfix            = image_tag "pin.png", :class => "marker"            %span #{p.city}, #{p.state}            - if p.organization_classification.eql?("170(c)(1)") || p.organization_classification.eql?("501(c)(3)")              %span.pull-right                = image_tag 'td-logo.png', class: "tax-deductible", "data-toggle" => "tooltip", title: "Donation Are Tax Deductable"        .funding          %div{:class => "progressbar#{p.id}"}          %ul            %li.funded              %p                = number_to_currency(totalsponsor(p), :precision => 0)                %span of                = get_currency(p.goal)              %h5 Funded            %li.days-left              %p.days #{time_left(p.duration, p.approval_date)}              %h5.time-left Days Left        :javascript          $(document).ready(function() {            $('#projects-funded').change(function(){                if ($(this).val() == "Funding Completed"){                  $('.project-fund .success').parent().addClass("success");                }                else{                  $(".project-fund").removeClass("success");                }              }            )          })          $('.progressbar#{p.id}').progressbar({          value: #{percentage_sponsor(p)}          });- else  %h3 Sorry, No Projects To Show